# 新词发现算法
新词发现算法在自然语言处理（NLP）和文本数据分析中扮演着至关重要的角色，其主要目标是从海量文本数据中自动识别和提取出未被传统词典收录但具有实际意义的新词汇或短语。这些新词通常反映了社会、文化、科技的最新动态（如“内卷”、“元宇宙”、“特种兵旅游”等）。该算法的应用非常广泛，具体可以用于以下几个方面：

1. 提升分词系统与输入法的准确性
解决“未登录词”问题：传统的分词工具和输入法依赖于预设的词典。当遇到新出现的网络热词、人名、地名或专业术语时，它们无法正确识别，导致分词错误或输入不准确。
动态更新词库：新词发现算法可以持续监控网络文本（如社交媒体、新闻），自动发现并验证新词，然后将其添加到词典中。例如，搜狗、百度等公司的输入法就利用此类技术来保持词库的时效性，让用户的输入体验更流畅。
2. 优化自然语言处理（NLP）任务
信息检索（搜索）：搜索引擎需要理解用户查询中的每一个词。如果一个新兴词汇不在索引词典里，相关的网页可能就无法被检索到。通过新词发现，搜索引擎能更快地收录和理解新概念，提高搜索结果的相关性和覆盖率。
机器翻译：翻译模型如果不认识某个新词，可能会将其音译、忽略或错误翻译。提前发现并学习新词的语义，有助于提升翻译质量。
情感分析与舆情监控：网络热词往往承载着特定的情感倾向（如“破防了”、“yyds”）。及时发现这些新词，并理解其情感色彩，对于准确分析公众情绪、进行品牌舆情监控至关重要。
3. 构建与更新知识图谱和专业词典
领域术语挖掘：在医疗、金融、法律等专业领域，会不断产生新的术语。新词发现算法可以从专业文献、报告中自动提取这些术语，用于构建和更新领域知识图谱或专业词典。
动态知识库建设：维基百科、百度百科等平台可以利用新词发现来捕捉新兴事件、人物或概念，辅助编辑快速创建新词条。
4. 支持文本挖掘与商业智能
市场趋势洞察：通过分析电商评论、社交媒体帖子中的新词，企业可以发现消费者的新需求、新产品趋势或对品牌的新兴看法，为产品开发和营销策略提供数据支持。
热点事件追踪：新词的突然涌现往往伴随着热点事件的发生。通过监测新词的出现频率和传播路径，可以快速发现并跟踪社会热点、突发事件。
5. 辅助其他NLP基础任务
实体抽取（NER）：新发现的词可能是新的人名、地名、机构名或产品名。将这些新词纳入考虑范围，可以提升命名实体识别系统的召回率。
文本摘要与关键词提取：确保摘要和关键词能包含最新的、有代表性的新词汇，使生成的内容更具时效性和代表性。
总结来说，新词发现算法的核心价值在于“与时俱进”。它解决了静态词典无法覆盖动态语言变化的问题，使得各类语言处理系统能够跟上语言演化的步伐，从而在信息检索、智能交互、数据分析等多个场景下提供更准确、更智能的服务。随着互联网内容的爆炸式增长，新词发现技术的重要性日益凸显。

实现的模块主要分为四个部分：
1.从文章中提取所有可能出现的**候选词**。
2.计算每一个词的**聚合度**。
3.计算每一个词的**左临熵**和**右临熵**，即:**自由度**。
4.通过**聚合度**和**左右临熵**的分值组合来对一个候选词进行打分。

## 互信息(Pointwise Mutual Information)
衡量两个随机变量之间的相互依赖程度：知道一个变量的值，能在多大程度上减少另一个变量的不确定性。
互信息越大，说明这两个词经常出现在一起，意味着两个词的凝固程度越大，其组成一个新词的可能性也就越大。
🌟 1. 直观理解
假设你有两个随机变量：
X：天气（晴天、雨天）
Y：是否带伞（是、否）
如果 X 和 Y 完全无关，那么知道天气并不能帮助你判断是否带伞 —— 互信息为 0。
但如果人们通常在雨天带伞，那么知道“今天下雨”，你就能大概率猜出“带伞” —— 这说明
X 和 Y 有很强的相关性，互信息很大。


举例：“电影院”的互信息是 p(电影院)分别除以 p(电)*p(影院) 和 p(电影)*p(院) 所得的商的较小值在取对数，这样处理会有更好的效果，因为用最小值来代表这个词的互信息，更能有力的证明该词的成词性。

## 左右熵(Information Entropy)
如果一个文本片段能够算作一个词的话，它应该能够灵活地出现在各种不同的环境中，具有非常丰富的左邻字集合和右邻字集合。

我们用信息熵来衡量一个文本片段的左邻字集合和右邻字集合有多随机。考虑这么一句话“吃葡萄不吐葡萄皮不吃葡萄倒吐葡萄皮”，“葡萄”一词出现了四次，其中左邻字分别为 {吃, 吐, 吃, 吐} ，右邻字分别为 {不, 皮, 倒, 皮} 。根据公式，“葡萄”一词的左邻字的信息熵为 – (1/2)*log(1/2) – (1/2)*log(1/2)，它的右邻字的信息熵则为 – (1/2)*log(1/2) – (1/4)*log(1/4) – (1/4)*log(1/4)。

## Demo
```
from word_discovery import NewWords
discover = NewWords()
discover.parse('''中国科兴生物研发的克尔来福是一种灭活疫苗，由已杀灭的病原体制成，主要通过其中的抗原诱导细胞免疫的产生。另外几种疫苗，例如莫德纳和辉瑞的疫苗都属于核糖核酸疫苗，使用的是RNA疫苗原理，抽取病毒内部分核糖核酸编码蛋白制成疫苗。新加坡南洋理工大学感染与免疫副教授罗大海对BBC表示，“克尔来福是用比较传统的方法制成的（灭活）疫苗，灭活疫苗使用广泛而且非常成功，例如狂犬病疫苗。”理论上，科兴疫苗主要的优势在于它能够在常规冰箱温度下（2至8摄氏度）保存，这一点和牛津/阿斯利康研发的病毒载体疫苗有相同优点。莫德纳的疫苗必须存放在摄氏零下20度，而辉瑞疫苗必须存放在摄氏零下70度。这意味着科兴和牛津/阿斯利康这两种疫苗，更能有效地在发展中国家使用，因为那些地方可能没有足够的低温储存设备供疫苗保存。但是，相对于最新加入接种行列的单剂疫苗 — 美国杨森和中国康希诺 — 而言，科兴疫苗仍需注射两针。疫苗谣言的打破：改变DNA、植入微芯片等疫苗阴谋论。新冠疫苗接种在即，你该了解的四大问题。效果如何？科兴疫苗三期临床试验在4个国家展开，各国试验结果相差较大，有效性从50% - 90%不等。从2021年1月以来，至少有7个国家先后批准科兴疫苗紧急使用。不过到目前为止它的三期临床整体有效性数据仍未公布。截止今年3月8日，香港有10多万人接种第一剂科兴疫苗，虽然近期出现三宗接种科兴疫苗后死亡的案例，但港府新冠疫苗临床事件评估专家委员会对三宗案例的调查结果称科兴疫苗与死亡并无直接关系。今年1月13日，科兴董事长在谷物元联防联控机制发布会上给出一组数据：土耳其中期分析结果显示该疫苗保护率91.25%；印尼三期临床试验保护率65.3%；巴西三期临床试验从2020年10月开始，试验结果显示重症保护率达100%，对高危人群总体保护率达50.3%。''')
for k, v in discover.candidates():
	print(k, v) 

输出：

主要 {'pmi': 10.448116305409464, 'freq': 2, 'entropy': 1.0}
辉瑞 {'pmi': 10.448116305409464, 'freq': 2, 'entropy': 1.0}
NA {'pmi': 10.448116305409464, 'freq': 2, 'entropy': 1.0}
数据 {'pmi': 10.448116305409464, 'freq': 2, 'entropy': 1.0}
死亡 {'pmi': 10.448116305409464, 'freq': 2, 'entropy': 1.0}
莫德纳 {'pmi': 10.448116305409464, 'freq': 2, 'entropy': 1.0}
病毒 {'pmi': 9.448116305409464, 'freq': 2, 'entropy': 1.0}
新加 {'pmi': 9.448116305409464, 'freq': 2, 'entropy': 1.0}
今年 {'pmi': 9.448116305409464, 'freq': 2, 'entropy': 1.0}
案例 {'pmi': 9.448116305409464, 'freq': 2, 'entropy': 1.0}
个国家 {'pmi': 9.448116305409464, 'freq': 2, 'entropy': 1.0}
其中 {'pmi': 9.1261882105221, 'freq': 2, 'entropy': 1.0}
使用 {'pmi': 9.1261882105221, 'freq': 4, 'entropy': 1.5}
试验 {'pmi': 9.1261882105221, 'freq': 5, 'entropy': 1.3709505944546687}
结果 {'pmi': 9.1261882105221, 'freq': 4, 'entropy': 1.5}
制成 {'pmi': 9.03307880613062, 'freq': 3, 'entropy': 1.584962500721156}
例如 {'pmi': 8.863153804688308, 'freq': 2, 'entropy': 1.0}
三宗 {'pmi': 8.863153804688308, 'freq': 2, 'entropy': 1.0}
保护率 {'pmi': 8.863153804688308, 'freq': 4, 'entropy': 1.5}
年1月 {'pmi': 8.863153804688308, 'freq': 2, 'entropy': 1.0}
有效性 {'pmi': 8.64076138335186, 'freq': 2, 'entropy': 1.0}
接种 {'pmi': 8.318833288464496, 'freq': 4, 'entropy': 2.0}
科兴 {'pmi': 8.1261882105221, 'freq': 10, 'entropy': 1.3567796494470397}
下2 {'pmi': 8.055798882630704, 'freq': 2, 'entropy': 1.0}
```

## Reference
- [https://github.com/lujiaying/BaizeNLP](https://github.com/lujiaying/BaizeNLP)
- [https://zhuanlan.zhihu.com/p/45745963](https://zhuanlan.zhihu.com/p/45745963)

